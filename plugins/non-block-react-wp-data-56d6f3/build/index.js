!function(){"use strict";var e={d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{addCounter:function(){return c},removeCounter:function(){return a},setCounterValue:function(){return d}});var n={};e.r(n),e.d(n,{getCounterIds:function(){return l},getCounterValue:function(){return i}});var r=window.wp.element,o=window.wp.data,u=window.lodash;function c(e){return{type:"ADD_COUNTER",counterId:e}}function a(e){return{type:"REMOVE_COUNTER",counterId:e}}function d(e,t){return{type:"SET_COUNTER_VALUE",counterId:e,value:t}}function l(e){return(0,u.map)(e,"id")}function i(e,t){return((0,u.find)(e,{id:t})||{}).value}(0,o.registerStore)("react-example/counters",{actions:t,reducer:function(e=[],t){switch(t.type){case"ADD_COUNTER":return[...e,{id:t.counterId,value:0}];case"REMOVE_COUNTER":return(0,u.without)(e,(0,u.find)(e,{id:t.counterId}));case"SET_COUNTER_VALUE":return(0,u.map)(e,(e=>e.id===t.counterId?{...e,value:t.value}:e))}return e},selectors:n});var s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let p;const m=new Uint8Array(16);function f(){if(!p&&(p="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(m)}const y=[];for(let e=0;e<256;++e)y.push((e+256).toString(16).slice(1));var E=function(e,t,n){if(s.randomUUID&&!t&&!e)return s.randomUUID();const r=(e=e||{}).random||(e.rng||f)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(y[e[t+0]]+y[e[t+1]]+y[e[t+2]]+y[e[t+3]]+"-"+y[e[t+4]]+y[e[t+5]]+"-"+y[e[t+6]]+y[e[t+7]]+"-"+y[e[t+8]]+y[e[t+9]]+"-"+y[e[t+10]]+y[e[t+11]]+y[e[t+12]]+y[e[t+13]]+y[e[t+14]]+y[e[t+15]]).toLowerCase()}(r)},C=window.wp.compose;const v=(0,o.withSelect)(((e,{counterId:t})=>{const{getCounterValue:n}=e("react-example/counters");return{value:n(t)}})),w=(0,o.withDispatch)(((e,{counterId:t,value:n})=>{const{setCounterValue:r,removeCounter:o}=e("react-example/counters");return{onIncrease:()=>r(t,n+1),onDecrease:()=>r(t,n-1),onDelete:()=>o(t)}}));var I=(0,C.compose)(v,w)((({value:e,onDelete:t,onIncrease:n,onDecrease:o})=>(0,r.createElement)("div",null,(0,r.createElement)("div",null,"Counter: ",(0,r.createElement)("strong",null,e)),(0,r.createElement)("button",{onClick:n},"+"),(0,r.createElement)("button",{onClick:o},"-"),(0,r.createElement)("button",{onClick:t},"Delete"))));const g=(0,o.withSelect)((e=>{const{getCounterIds:t}=e("react-example/counters");return{counterIds:t()}})),U=(0,o.withDispatch)((e=>{const{addCounter:t}=e("react-example/counters");return{addCounter:()=>t(E())}}));var D=U(g((({addCounter:e,counterIds:t})=>(0,r.createElement)("div",null,t.map((e=>(0,r.createElement)(I,{key:e,counterId:e}))),(0,r.createElement)("button",{onClick:e},"Add Counter")))));const b=document.getElementById("react-example-wrapper");(0,r.render)((0,r.createElement)(D,null),b)}();